class NavigationManager{constructor(){this.navbar=document.getElementById("navbar"),this.hamburger=document.getElementById("hamburger"),this.mobileMenu=document.getElementById("mobile-menu"),this.isMenuOpen=!1,this.init()}init(){window.addEventListener("scroll",()=>this.handleScroll()),this.hamburger&&this.hamburger.addEventListener("click",()=>this.toggleMobileMenu());const t=this.mobileMenu?.querySelectorAll("a");t?.forEach(t=>{t.addEventListener("click",()=>this.closeMobileMenu())}),document.addEventListener("click",t=>{!this.isMenuOpen||this.mobileMenu.contains(t.target)||this.hamburger.contains(t.target)||this.closeMobileMenu()}),this.handleScroll()}handleScroll(){if(window.scrollY>50){this.navbar.classList.remove("bg-gradient-to-r","from-primary-500","to-purple-600"),this.navbar.classList.add("bg-white/80","dark:bg-slate-900/80","backdrop-blur-md","shadow-lg");this.navbar.querySelectorAll("a, h2").forEach(t=>{t.classList.remove("text-white"),t.classList.add("text-slate-900","dark:text-white")});this.navbar.querySelectorAll('a[href^="#"]').forEach(t=>{t.classList.remove("text-white/90","hover:text-white"),t.classList.add("text-slate-700","dark:text-slate-300","hover:text-primary-500")});const t=this.hamburger?.querySelectorAll("span");t?.forEach(t=>{t.classList.remove("bg-white"),t.classList.add("bg-slate-900","dark:bg-white")});const e=document.getElementById("admin-login");e&&(e.classList.remove("bg-white/20","border-white/30"),e.classList.add("bg-slate-100","dark:bg-slate-800","border-slate-300","dark:border-slate-600"))}else{this.navbar.classList.add("bg-gradient-to-r","from-primary-500","to-purple-600"),this.navbar.classList.remove("bg-white/80","dark:bg-slate-900/80","backdrop-blur-md","shadow-lg");this.navbar.querySelectorAll("a, h2").forEach(t=>{t.classList.add("text-white"),t.classList.remove("text-slate-900","dark:text-white","text-slate-700","dark:text-slate-300")});this.navbar.querySelectorAll('a[href^="#"]').forEach(t=>{t.classList.add("text-white/90","hover:text-white"),t.classList.remove("text-slate-700","dark:text-slate-300","hover:text-primary-500")});const t=this.hamburger?.querySelectorAll("span");t?.forEach(t=>{t.classList.add("bg-white"),t.classList.remove("bg-slate-900","dark:bg-white")});const e=document.getElementById("admin-login");e&&(e.classList.add("bg-white/20","border-white/30"),e.classList.remove("bg-slate-100","dark:bg-slate-800","border-slate-300","dark:border-slate-600"))}}toggleMobileMenu(){if(this.isMenuOpen=!this.isMenuOpen,this.isMenuOpen){this.mobileMenu.classList.remove("-translate-x-full"),this.hamburger.classList.add("active");const t=this.hamburger.querySelectorAll("span");t[0].style.transform="rotate(45deg) translateY(8px)",t[1].style.opacity="0",t[2].style.transform="rotate(-45deg) translateY(-8px)",document.body.style.overflow="hidden"}else this.closeMobileMenu()}closeMobileMenu(){this.isMenuOpen=!1,this.mobileMenu.classList.add("-translate-x-full"),this.hamburger.classList.remove("active");const t=this.hamburger.querySelectorAll("span");t[0].style.transform="",t[1].style.opacity="1",t[2].style.transform="",document.body.style.overflow=""}}class DarkModeManager{constructor(){this.themeToggle=document.getElementById("theme-toggle"),this.htmlElement=document.documentElement,this.currentTheme=localStorage.getItem("theme")||"light",this.init()}init(){"dark"===this.currentTheme&&(this.htmlElement.classList.add("dark"),this.updateToggleIcon(!0)),this.themeToggle&&this.themeToggle.addEventListener("click",()=>this.toggle())}toggle(){this.htmlElement.classList.contains("dark")?(this.htmlElement.classList.remove("dark"),localStorage.setItem("theme","light"),this.updateToggleIcon(!1)):(this.htmlElement.classList.add("dark"),localStorage.setItem("theme","dark"),this.updateToggleIcon(!0))}updateToggleIcon(t){const e=this.themeToggle.querySelector(".sun-icon"),a=this.themeToggle.querySelector(".moon-icon");t?(e.style.opacity="0",e.style.transform="rotate(-180deg) scale(0.5)",a.style.opacity="1",a.style.transform="rotate(0deg) scale(1)"):(e.style.opacity="1",e.style.transform="rotate(0deg) scale(1)",a.style.opacity="0",a.style.transform="rotate(180deg) scale(0.5)")}}class PaymentManager{constructor(){this.form=document.getElementById("payment-form"),this.billInfo=document.getElementById("bill-info"),this.payButton=document.getElementById("pay-now"),this.customerDatabase={INT001:{name:"Budi Santoso",package:"Paket Premium",phone:"081234567890",amount:"Rp 499.000",period:"September 2024",dueDate:"15 Oktober 2024",status:"unpaid"},INT002:{name:"Siti Nurhaliza",package:"Paket Basic",phone:"082345678901",amount:"Rp 299.000",period:"September 2024",dueDate:"20 Oktober 2024",status:"unpaid"},INT003:{name:"Ahmad Rahman",package:"Paket Ultra",phone:"083456789012",amount:"Rp 799.000",period:"September 2024",dueDate:"10 Oktober 2024",status:"unpaid"}},this.init()}init(){this.form&&this.form.addEventListener("submit",t=>this.handleFormSubmit(t)),this.payButton&&this.payButton.addEventListener("click",()=>this.processPayment()),document.addEventListener("change",t=>{"payment-method"===t.target.name&&this.enablePayButton()})}handleFormSubmit(t){t.preventDefault();const e=document.getElementById("customer-id").value.trim().toUpperCase(),a=this.form.querySelector('button[type="submit"]');a.disabled=!0,a.innerHTML="<span>Mencari...</span>",setTimeout(()=>{if(!this.customerDatabase[e])return alert("ID Pelanggan tidak ditemukan. Silakan periksa kembali ID pelanggan Anda.\n\nContoh ID yang tersedia:\n‚Ä¢ INT001\n‚Ä¢ INT002\n‚Ä¢ INT003"),a.disabled=!1,void(a.innerHTML="<span>Cek Tagihan</span>");const t=this.customerDatabase[e];this.displayBillInfo(t),this.billInfo.style.display="block",this.billInfo.scrollIntoView({behavior:"smooth",block:"center"}),a.disabled=!1,a.innerHTML="<span>Cek Tagihan</span>"},1e3)}displayBillInfo(t){document.getElementById("customer-name").textContent=t.name,document.getElementById("package-type").textContent=t.package,document.getElementById("billing-period").textContent=t.period,document.getElementById("due-date").textContent=t.dueDate,document.getElementById("total-amount").textContent=t.amount}enablePayButton(){this.payButton&&(this.payButton.disabled=!1,this.payButton.classList.remove("opacity-50","cursor-not-allowed"))}processPayment(){const t=document.querySelector('input[name="payment-method"]:checked');if(!t)return void alert("Silakan pilih metode pembayaran terlebih dahulu.");const e=document.getElementById("customer-id").value.trim().toUpperCase(),a=this.customerDatabase[e],s=t.value;this.payButton.disabled=!0,this.payButton.innerHTML="<span>Memproses Pembayaran...</span>",setTimeout(()=>{let t="";switch(s){case"bank-transfer":t=`üè¶ Silakan transfer ke rekening berikut:\n\nBank BCA: 123-456-789\nAtas Nama: PT InternetKu\nJumlah: ${a.amount}\n\n‚úÖ Setelah transfer, tagihan akan otomatis terbayar dalam 1x24 jam.`;break;case"e-wallet":t=`üì± Scan QR code dengan aplikasi e-wallet Anda:\n\nAtau gunakan nomor virtual: 08123456789\nJumlah: ${a.amount}\n\nüí° Pembayaran akan langsung terverifikasi`;break;case"credit-card":t="üí≥ Pembayaran Berhasil!\n\nTerima kasih! Tagihan Anda telah berhasil dibayar.";break;case"virtual-account":t=`üèß Nomor Virtual Account Anda:\n\n${this.generateVANumber()}\n\nJumlah: ${a.amount}\nBerlaku hingga: ${a.dueDate}\n\nüí≥ Bayar melalui ATM, internet banking, atau mobile banking.`}alert(t),this.payButton.disabled=!1,this.payButton.innerHTML="<span>Bayar Sekarang</span>"},2e3)}generateVANumber(){return"70012"+Math.floor(1e9*Math.random()).toString().padStart(9,"0")}}class ContactManager{constructor(){this.form=document.getElementById("contact-form"),this.whatsappNumber="6281246015380",this.init()}init(){this.form&&this.form.addEventListener("submit",t=>this.handleFormSubmit(t))}handleFormSubmit(t){t.preventDefault();const e=document.getElementById("contact-name").value.trim(),a=document.getElementById("contact-email").value.trim(),s=document.getElementById("contact-phone").value.trim(),n=document.getElementById("contact-package").value,i=document.getElementById("contact-message").value.trim();let o="*Bule Network - Formulir Kontak*\n\n";o+=`üìù *Nama:* ${e}\n`,o+=`üìß *Email:* ${a}\n`,o+=`üì± *Telepon:* ${s}\n`,o+=`üì¶ *Paket:* ${{"15mbps":"Paket 15 Mbps - Rp 150.000","20mbps":"Paket 20 Mbps - Rp 200.000 (Terpopuler)","30mbps":"Paket 30 Mbps - Rp 250.000"}[n]||n}\n`,i&&(o+=`üí¨ *Pesan:* ${i}\n`),o+="\n‚ö° *Salam dari Bule Network!*";const r=encodeURIComponent(o),l=`https://wa.me/${this.whatsappNumber}?text=${r}`,d=this.form.querySelector('button[type="submit"]'),c=d.innerHTML;d.disabled=!0,d.innerHTML="<span>Mengirim...</span>",setTimeout(()=>{window.open(l,"_blank"),this.form.reset(),d.disabled=!1,d.innerHTML=c,alert("Pesan berhasil disiapkan! WhatsApp akan terbuka untuk mengirim pesan.")},1e3)}}class SmoothScrollManager{constructor(){this.init()}init(){document.querySelectorAll('a[href^="#"]').forEach(t=>{t.addEventListener("click",e=>{e.preventDefault();const a=document.querySelector(t.getAttribute("href"));a&&a.scrollIntoView({behavior:"smooth",block:"start"})})})}}class TestimonialSlider{constructor(){this.track=document.getElementById("testimonial-track"),this.prevBtn=document.getElementById("prev-testimonial"),this.nextBtn=document.getElementById("next-testimonial"),this.dots=document.querySelectorAll(".testimonial-dot"),this.currentSlide=0,this.totalSlides=6,this.autoSlideInterval=null,this.init()}init(){if(!this.track)return;this.prevBtn&&this.prevBtn.addEventListener("click",()=>this.previousSlide()),this.nextBtn&&this.nextBtn.addEventListener("click",()=>this.nextSlide()),this.dots.forEach((t,e)=>{t.addEventListener("click",()=>this.goToSlide(e))}),this.addTouchSupport(),this.startAutoSlide();const t=document.getElementById("testimonial-slider");t&&(t.addEventListener("mouseenter",()=>this.stopAutoSlide()),t.addEventListener("mouseleave",()=>this.startAutoSlide())),this.updateSlider()}goToSlide(t){this.currentSlide=t,this.updateSlider()}nextSlide(){this.currentSlide=(this.currentSlide+1)%this.totalSlides,this.updateSlider()}previousSlide(){this.currentSlide=(this.currentSlide-1+this.totalSlides)%this.totalSlides,this.updateSlider()}updateSlider(){if(!this.track)return;const t=100*-this.currentSlide;this.track.style.transform=`translateX(${t}%)`,this.dots.forEach((t,e)=>{e===this.currentSlide?(t.classList.remove("bg-white/50"),t.classList.add("bg-white")):(t.classList.remove("bg-white"),t.classList.add("bg-white/50"))})}addTouchSupport(){this.startX=0,this.endX=0,this.isDragging=!1,this.startTime=0,this.track.addEventListener("touchstart",t=>{this.startX=t.touches[0].clientX,this.startTime=Date.now(),this.isDragging=!0,this.stopAutoSlide()},{passive:!0}),this.track.addEventListener("touchmove",t=>{if(!this.isDragging)return;const e=t.touches[0].clientX,a=(this.startX-e)/this.track.offsetWidth*100,s=100*-this.currentSlide;this.track.style.transform=`translateX(${s-a}%)`},{passive:!0}),this.track.addEventListener("touchend",t=>{this.isDragging&&(this.endX=t.changedTouches[0].clientX,this.isDragging=!1,this.updateSlider(),this.handleSwipe(),this.startAutoSlide())},{passive:!0}),this.track.addEventListener("mousedown",t=>{t.preventDefault(),this.startX=t.clientX,this.startTime=Date.now(),this.isDragging=!0,this.track.style.cursor="grabbing",this.track.style.userSelect="none",this.stopAutoSlide()}),this.track.addEventListener("mousemove",t=>{if(!this.isDragging)return;t.preventDefault();const e=t.clientX,a=(this.startX-e)/this.track.offsetWidth*100,s=100*-this.currentSlide;this.track.style.transform=`translateX(${s-a}%)`}),this.track.addEventListener("mouseup",t=>{this.isDragging&&(this.endX=t.clientX,this.isDragging=!1,this.track.style.cursor="grab",this.track.style.userSelect="",this.updateSlider(),this.handleSwipe(),this.startAutoSlide())}),this.track.addEventListener("mouseleave",t=>{this.isDragging&&(this.endX=t.clientX,this.isDragging=!1,this.track.style.cursor="grab",this.track.style.userSelect="",this.updateSlider(),this.handleSwipe(),this.startAutoSlide())}),this.track.addEventListener("contextmenu",t=>{t.preventDefault()}),this.track.style.cursor="grab"}handleSwipe(){const t=this.startX-this.endX,e=Date.now()-this.startTime;Math.abs(t)>50&&e<500?t>0?this.nextSlide():this.previousSlide():this.updateSlider()}startAutoSlide(){this.stopAutoSlide(),this.autoSlideInterval=setInterval(()=>{this.nextSlide()},5e3)}stopAutoSlide(){this.autoSlideInterval&&(clearInterval(this.autoSlideInterval),this.autoSlideInterval=null)}}class ScrollToTopManager{constructor(){this.scrollButton=document.getElementById("scroll-to-top"),this.isVisible=!1,this.lastScrollY=0,this.init()}init(){this.scrollButton&&(this.scrollButton.addEventListener("click",()=>this.scrollToTop()),window.addEventListener("scroll",()=>this.handleScroll()),this.handleScroll())}handleScroll(){const t=window.scrollY,e=document.documentElement.scrollHeight,a=window.innerHeight,s=t/(e-a)>.5||t>500&&t+a>=.8*e;s&&!this.isVisible?this.showButton():!s&&this.isVisible&&this.hideButton(),this.lastScrollY=t}showButton(){this.isVisible=!0,this.scrollButton.classList.remove("opacity-0","invisible"),this.scrollButton.classList.add("opacity-100","visible"),this.scrollButton.style.animation="bounce 0.6s ease-in-out",setTimeout(()=>{this.scrollButton.style.animation=""},600)}hideButton(){this.isVisible=!1,this.scrollButton.classList.remove("opacity-100","visible"),this.scrollButton.classList.add("opacity-0","invisible")}scrollToTop(){this.scrollButton.innerHTML='<span class="animate-spin">‚ü≥</span>',window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{this.scrollButton.innerHTML='<span class="text-xl">‚Üë</span>'},1e3)}}class PackageModalManager{constructor(){this.modal=document.getElementById("package-modal"),this.closeBtn=document.getElementById("close-modal"),this.cancelBtn=document.getElementById("cancel-order"),this.form=document.getElementById("package-order-form"),this.packageButtons=document.querySelectorAll(".package-select-btn"),this.whatsappNumber="6281246015380",this.selectedPackage=null,this.init()}init(){this.modal&&(this.packageButtons.forEach(t=>{t.addEventListener("click",t=>this.openModal(t))}),this.closeBtn?.addEventListener("click",()=>this.closeModal()),this.cancelBtn?.addEventListener("click",()=>this.closeModal()),this.modal.addEventListener("click",t=>{t.target===this.modal&&this.closeModal()}),document.addEventListener("keydown",t=>{"Escape"===t.key&&this.isModalOpen()&&this.closeModal()}),this.form?.addEventListener("submit",t=>this.handleFormSubmit(t)),this.addKTPFormatting())}addKTPFormatting(){const t=document.getElementById("order-ktp");t&&(t.addEventListener("input",t=>{const e=t.target.selectionStart;let a=t.target.value.replace(/\D/g,"");a.length>16&&(a=a.substring(0,16));let s="";for(let t=0;t<a.length;t++)t>0&&t%4==0&&(s+=" "),s+=a[t];t.target.value=s;let n=e;(s.substring(0,e).match(/ /g)||[]).length;const i=s.substring(0,e).replace(/\s/g,"").length;i>0&&i%4==0&&" "!==s[e-1]&&(n=e),setTimeout(()=>{t.target.setSelectionRange(n,n)},0)}),t.addEventListener("keypress",t=>{-1!==[8,9,27,13,46].indexOf(t.keyCode)||65===t.keyCode&&!0===t.ctrlKey||67===t.keyCode&&!0===t.ctrlKey||86===t.keyCode&&!0===t.ctrlKey||88===t.keyCode&&!0===t.ctrlKey||(t.shiftKey||t.keyCode<48||t.keyCode>57)&&(t.keyCode<96||t.keyCode>105)&&t.preventDefault()}),t.addEventListener("paste",e=>{e.preventDefault();const a=(e.clipboardData||window.clipboardData).getData("text").replace(/\D/g,"").substring(0,16);let s="";for(let t=0;t<a.length;t++)t>0&&t%4==0&&(s+=" "),s+=a[t];t.value=s}))}openModal(t){const e=t.target.closest(".package-select-btn");e&&(this.selectedPackage={id:e.dataset.package,name:e.dataset.name,price:e.dataset.price,speed:e.dataset.speed},this.updateModalContent(),this.modal.classList.remove("opacity-0","invisible"),this.modal.querySelector(".bg-white").classList.remove("scale-95"),this.modal.querySelector(".bg-white").classList.add("scale-100"),document.body.style.overflow="hidden",setTimeout(()=>{document.getElementById("order-name")?.focus()},300))}closeModal(){this.modal.classList.add("opacity-0","invisible"),this.modal.querySelector(".bg-white").classList.remove("scale-100"),this.modal.querySelector(".bg-white").classList.add("scale-95"),document.body.style.overflow="",this.form?.reset()}isModalOpen(){return!this.modal.classList.contains("invisible")}updateModalContent(){if(!this.selectedPackage)return;const t=document.getElementById("modal-package-name"),e=document.getElementById("modal-package-price");t&&(t.textContent=this.selectedPackage.name),e&&(e.textContent=this.selectedPackage.price)}handleFormSubmit(t){t.preventDefault();const e=new FormData(this.form),a={name:e.get("name").trim(),phone:e.get("phone").trim(),ktp:e.get("ktp").trim(),email:e.get("email").trim(),address:e.get("address").trim(),installation:e.get("installation"),notes:e.get("notes").trim()};if(!(a.name&&a.phone&&a.ktp&&a.address))return void alert("Mohon lengkapi semua field yang wajib diisi (*)");if(!/^(\+62|62|0)[0-9]{8,13}$/.test(a.phone.replace(/[\s-]/g,"")))return void alert("Nomor WhatsApp tidak valid. Gunakan format: 08123456789");/^[0-9]{16}$/.test(a.ktp.replace(/[\s-]/g,""))?this.sendToWhatsApp(a):alert("Nomor KTP tidak valid. Nomor KTP harus 16 digit angka.")}sendToWhatsApp(t){const e=this.form.querySelector('button[type="submit"]'),a=e.innerHTML;e.disabled=!0,e.innerHTML='<span class="animate-spin">‚ü≥</span> Mengirim...';const s={pagi:"Pagi (08:00 - 12:00)",siang:"Siang (12:00 - 16:00)",sore:"Sore (16:00 - 18:00)",fleksibel:"Fleksibel (sesuai jadwal teknisi)"};let n="*BULE NETWORK - BERLANGGANAN PAKET INTERNET*\n\n";n+="üì¶ *Paket yang Dipilih:*\n",n+=`‚Ä¢ ${this.selectedPackage.name}\n`,n+=`‚Ä¢ Kecepatan: ${this.selectedPackage.speed}\n`,n+=`‚Ä¢ Harga: ${this.selectedPackage.price}\n\n`,n+="üë§ *Data Pelanggan:*\n",n+=`‚Ä¢ Nama: ${t.name}\n`,n+=`‚Ä¢ WhatsApp: ${t.phone}\n`,n+=`‚Ä¢ Nomor KTP: ${t.ktp}\n`,t.email&&(n+=`‚Ä¢ Email: ${t.email}\n`),n+=`‚Ä¢ Alamat: ${t.address}\n\n`,t.installation&&(n+="üîß *Waktu Instalasi:*\n",n+=`‚Ä¢ ${s[t.installation]||t.installation}\n\n`),t.notes&&(n+="üìù *Catatan:*\n",n+=`${t.notes}\n\n`),n+="‚ö° *Terima kasih telah memilih Bule Network!*\n",n+="Tim kami akan segera menghubungi Anda untuk proses selanjutnya.";const i=encodeURIComponent(n),o=`https://wa.me/${this.whatsappNumber}?text=${i}`;setTimeout(()=>{window.open(o,"_blank"),e.disabled=!1,e.innerHTML=a,this.closeModal(),this.showSuccessMessage()},1500)}showSuccessMessage(){const t=document.createElement("div");t.className="fixed top-4 right-4 bg-green-500 text-white p-4 rounded-lg shadow-lg z-50 transform translate-x-full transition-transform duration-300",t.innerHTML='\n            <div class="flex items-center space-x-3">\n                <span class="text-2xl">‚úÖ</span>\n                <div>\n                    <div class="font-semibold">Berhasil!</div>\n                    <div class="text-sm">WhatsApp akan terbuka untuk mengirim pesan</div>\n                </div>\n            </div>\n        ',document.body.appendChild(t),setTimeout(()=>{t.classList.remove("translate-x-full")},100),setTimeout(()=>{t.classList.add("translate-x-full"),setTimeout(()=>{document.body.removeChild(t)},300)},5e3)}}document.addEventListener("DOMContentLoaded",()=>{new NavigationManager,new DarkModeManager,new PaymentManager,new ContactManager,new SmoothScrollManager,new TestimonialSlider,new ScrollToTopManager,new PackageModalManager});const style=document.createElement("style");style.textContent="\n    @keyframes fadeInUp {\n        from {\n            opacity: 0;\n            transform: translateY(30px);\n        }\n        to {\n            opacity: 1;\n            transform: translateY(0);\n        }\n    }\n\n    @keyframes fadeIn {\n        from { opacity: 0; }\n        to { opacity: 1; }\n    }\n\n    @keyframes heroPattern {\n        0% { transform: translateY(0px); }\n        100% { transform: translateY(60px); }\n    }\n\n    .animate-fade-in-up {\n        animation: fadeInUp 1s ease-out forwards;\n        opacity: 0;\n    }\n\n    .animate-fade-in {\n        animation: fadeIn 1s ease-out forwards;\n        opacity: 0;\n    }\n",document.head.appendChild(style);